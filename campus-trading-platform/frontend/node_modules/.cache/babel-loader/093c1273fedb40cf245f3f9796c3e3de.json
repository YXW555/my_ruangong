{"remainingRequest":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\src\\utils\\request.js","dependencies":[{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\src\\utils\\request.js","mtime":1766971050964},{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["import axios from 'axios';\n/* axios功能封装  */\n// 使用 /api 前缀，通过代理访问后端\n// 开发环境：vue.config.js 的代理将 /api 转发到 localhost:8081\n// 生产环境：Nginx 将 /api 代理到 backend:8080\n// 这样开发和生产环境使用相同的路径，代码统一\n\nvar baseURL = process.env.VUE_APP_API_BASE_URL || '/api';\nvar service = axios.create({\n  timeout: 5000,\n  baseURL: baseURL,\n  withCredentials: true\n}); // request interceptor(请求拦截器)\n\nservice.interceptors.request.use(function (config) {\n  return config;\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n}); // response interceptor（接收拦截器）\n\nservice.interceptors.response.use(function (response) {\n  if (response.status === 200) {\n    return response.data;\n  } else {\n    Promise.reject();\n  }\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n});\nexport default service;",{"version":3,"sources":["D:/Git/my_ruangong/campus-trading-platform/frontend/src/utils/request.js"],"names":["axios","baseURL","process","env","VUE_APP_API_BASE_URL","service","create","timeout","withCredentials","interceptors","request","use","config","error","console","log","Promise","reject","response","status","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;AAEA;AACA;AACA;AACA;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,IAAoC,MAApD;AAEA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE,IADgB;AAEzBN,EAAAA,OAAO,EAAEA,OAFgB;AAGzBO,EAAAA,eAAe,EAAG;AAHO,CAAb,CAAhB,C,CAMA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAI;AACN,SAAOA,MAAP;AACH,CAHL,EAII,UAAAC,KAAK,EAAI;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,EAAP;AACH,CAPL,E,CAUA;;AACAZ,OAAO,CAACI,YAAR,CAAqBS,QAArB,CAA8BP,GAA9B,CACI,UAAAO,QAAQ,EAAI;AACR,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,WAAOD,QAAQ,CAACE,IAAhB;AACH,GAFD,MAEO;AACHJ,IAAAA,OAAO,CAACC,MAAR;AACH;AACJ,CAPL,EAQI,UAAAJ,KAAK,EAAI;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAOG,OAAO,CAACC,MAAR,EAAP;AACH,CAXL;AAcA,eAAeZ,OAAf","sourcesContent":["import axios from 'axios';\n\n/* axios功能封装  */\n\n// 使用 /api 前缀，通过代理访问后端\n// 开发环境：vue.config.js 的代理将 /api 转发到 localhost:8081\n// 生产环境：Nginx 将 /api 代理到 backend:8080\n// 这样开发和生产环境使用相同的路径，代码统一\nconst baseURL = process.env.VUE_APP_API_BASE_URL || '/api';\n\nconst service = axios.create({\n    timeout: 5000,\n    baseURL: baseURL,\n    withCredentials:  true\n});\n\n// request interceptor(请求拦截器)\nservice.interceptors.request.use(\n    config => {\n        return config;\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\n// response interceptor（接收拦截器）\nservice.interceptors.response.use(\n    response => {\n        if (response.status === 200) {\n            return response.data;\n        } else {\n            Promise.reject();\n        }\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\nexport default service;\n"]}]}