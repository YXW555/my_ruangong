{"remainingRequest":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\src\\components\\page\\message.vue?vue&type=template&id=75605517&scoped=true&","dependencies":[{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\src\\components\\page\\message.vue","mtime":1767327112308},{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1678197338000},{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\Git\\my_ruangong\\campus-trading-platform\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["\n<div>\n    <app-head></app-head>\n    <app-body>\n        <div class=\"message-container\">\n            <div class=\"message-header\">\n                <h2 class=\"message-title\">我的消息</h2>\n                <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\" class=\"message-tabs\">\n                    <el-tab-pane label=\"全部\" name=\"all\">\n                        <span slot=\"label\">\n                            <i class=\"el-icon-message\"></i> 全部\n                        </span>\n                    </el-tab-pane>\n                    <el-tab-pane label=\"商品留言\" name=\"comment\">\n                        <span slot=\"label\">\n                            <i class=\"el-icon-chat-line-round\"></i> 商品留言\n                        </span>\n                    </el-tab-pane>\n                    <el-tab-pane label=\"私聊消息\" name=\"chat\">\n                        <span slot=\"label\">\n                            <i class=\"el-icon-chat-dot-round\"></i> 私聊消息\n                        </span>\n                    </el-tab-pane>\n                </el-tabs>\n            </div>\n\n            <!-- 商品留言列表 -->\n            <div v-if=\"activeTab === 'all' || activeTab === 'comment'\">\n                <div v-if=\"commentList.length === 0 && activeTab === 'comment'\" class=\"empty-state\">\n                    <i class=\"el-icon-chat-line-round empty-icon\"></i>\n                    <p class=\"empty-text\">暂无商品留言</p>\n                    <p class=\"empty-hint\">当有人在你发布的商品下留言时，会显示在这里</p>\n                    <el-button type=\"primary\" @click=\"goToIndex\">去逛逛商品</el-button>\n                </div>\n                <div v-else>\n                    <div v-for=\"(mes,index) in commentList\" :key=\"'comment-' + index\" \n                         class=\"message-item comment-item\" \n                         @click=\"toDetails(mes.idle.id)\">\n                        <div class=\"message-item-left\">\n                    <el-image\n                                class=\"message-avatar\"\n                            :src=\"mes.fromU.avatar\"\n                                fit=\"cover\">\n                                <div slot=\"error\" class=\"avatar-error\">\n                                    <i class=\"el-icon-user\"></i>\n                                </div>\n                            </el-image>\n                            <div class=\"message-content-wrapper\">\n                                <div class=\"message-header-info\">\n                                    <span class=\"message-nickname\">{{mes.fromU.nickname}}</span>\n                                    <span class=\"message-type-tag comment-tag\">\n                                        <i class=\"el-icon-chat-line-round\"></i> 商品留言\n                                    </span>\n                                </div>\n                        <div class=\"message-content\">{{mes.content}}</div>\n                                <div class=\"message-footer\">\n                                    <span class=\"message-time\">{{formatTime(mes.createTime)}}</span>\n                                    <span class=\"message-goods\">商品：{{mes.idle.idleName}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"message-item-right\">\n                            <el-image\n                                class=\"message-goods-image\"\n                                :src=\"mes.idle.imgUrl\"\n                                fit=\"cover\">\n                                <div slot=\"error\" class=\"image-error\">\n                                    <i class=\"el-icon-picture-outline\"></i>\n                                </div>\n                            </el-image>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- 私聊会话列表 -->\n            <div v-if=\"activeTab === 'all' || activeTab === 'chat'\">\n                <div v-if=\"chatList.length === 0 && activeTab === 'chat'\" class=\"empty-state\">\n                    <i class=\"el-icon-chat-dot-round empty-icon\"></i>\n                    <p class=\"empty-text\">暂无私聊消息</p>\n                    <p class=\"empty-hint\">当有人给你发送私聊消息时，会显示在这里</p>\n                    <el-button type=\"primary\" @click=\"goToChat\">去私聊页面</el-button>\n                </div>\n                <div v-else>\n                    <div v-for=\"(session,index) in chatList\" :key=\"'chat-' + index\" \n                         class=\"message-item chat-item\" \n                         @click=\"toChat(session)\">\n                        <div class=\"message-item-left\">\n                            <el-image\n                                class=\"message-avatar\"\n                                :src=\"getDisplayUser(session).avatar\"\n                                fit=\"cover\">\n                                <div slot=\"error\" class=\"avatar-error\">\n                                    <i class=\"el-icon-user\"></i>\n                                </div>\n                            </el-image>\n                            <div class=\"message-content-wrapper\">\n                                <div class=\"message-header-info\">\n                                    <span class=\"message-nickname\">{{getDisplayUser(session).nickname}}</span>\n                                    <span class=\"message-type-tag chat-tag\">\n                                        <i class=\"el-icon-chat-dot-round\"></i> 私聊\n                                    </span>\n                                    <el-badge \n                                        v-if=\"getUnreadCountForSession(session) > 0\"\n                                        :value=\"getUnreadCountForSession(session)\" \n                                        class=\"unread-badge\">\n                                    </el-badge>\n                                </div>\n                                <div class=\"message-content\" :class=\"{'unread-message': getUnreadCountForSession(session) > 0}\">{{session.content}}</div>\n                                <div class=\"message-footer\">\n                                    <span class=\"message-time\">{{formatTime(session.createTime)}}</span>\n                                    <span v-if=\"session.idle\" class=\"message-goods\">商品：{{session.idle.idleName}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"message-item-right\" v-if=\"session.idle\">\n                    <el-image\n                                class=\"message-goods-image\"\n                                :src=\"getGoodsImage(session.idle)\"\n                                fit=\"cover\">\n                                <div slot=\"error\" class=\"image-error\">\n                                    <i class=\"el-icon-picture-outline\"></i>\n                                </div>\n                            </el-image>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- 全部为空的状态 -->\n            <div v-if=\"activeTab === 'all' && commentList.length === 0 && chatList.length === 0\" class=\"empty-state\">\n                <i class=\"el-icon-message empty-icon\"></i>\n                <p class=\"empty-text\">暂无消息</p>\n                <p class=\"empty-hint\">当有人给你留言或发送私聊消息时，会显示在这里</p>\n                <div class=\"empty-actions\">\n                    <el-button type=\"primary\" @click=\"goToIndex\">去逛逛商品</el-button>\n                    <el-button @click=\"goToChat\">查看私聊</el-button>\n                </div>\n            </div>\n        </div>\n        <app-foot></app-foot>\n    </app-body>\n</div>\n",null]}